<!DOCTYPE html>
<html lang="fr" ng-app="carteApp">
	<head>
		<meta charset="UTF-8">
		<title>PDC8 - Carte - Module d'ajout de coordonnées</title>
        <link rel="stylesheet" href="style.css">
        
        <style type="text/css">
            html, body, div#map-canvas { height: 100%; margin: 0; padding: 0;}
        </style>
        <script type="text/javascript"
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBTdqNFiZZ9i0lEZlUEwE8Hpu7YNfxxXf8">
        </script>
        <script type="text/javascript">
            var map;
            var listeLocations = [];
            function initialize() {
              var myLatlng = new google.maps.LatLng(45.777399, 4.855150);
              var mapOptions = {
                zoom: 16,
                center: myLatlng
              }
              map = new google.maps.Map(document.getElementById("map-canvas"), mapOptions);

              google.maps.event.addListener(map, 'click', function(event) {
                placeMarker(event.latLng);
                listeLocations.push(event.latLng);
                alert(event.latLng);
                alert(listeLocations);
              });
            }

            function placeMarker(location) {
              var marker = new google.maps.Marker({
                  position: location,
                  map: map
              });
                }

                google.maps.event.addDomListener(window, 'load', initialize);
            </script>
	</head>
    
    <body>
    
        <div ng-controller="MainCtrl">
            <h1>{{title}}</h1>
            
            <div id="map-canvas">
                <!--TODO Ajouter la carte Google Map ici-->
            </div>
            
            <div id="colDonnees">
                <div>
                    <h2>Coordonnées</h2>
                    <p>Latitude</p>
                    <input type="text" ng-model="latitude" placeholder="Lat.">
                    <p>Longitude</p>
                    <input type="text" ng-model="longitude" placeholder="Long.">
                </div>
                
                <div>
                    <h2>Numéro d'identification de l'arbre</h2>
                    <input type="text" ng-model="idarbre" placeholder="Id.">
                </div>
                
                <div>
                    <h2>Base de données</h2>
                    <input type="button" name="addBase" value="Ajouter" ng-click="addBase(latitude,longitude,idarbre)" style="background-color:#3cb371" style="color:green; font-weight:bold">
                    <!--TODO Ajouter les autres boutons pour faire du CRUD--> <!--
                </div>
            </div>
        -->
        <!--
        <div id="map-canvas"></div>
        </div>
        -->
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.8/angular.min.js"></script>
        <script src="controllers.js"></script>

    </body>
</html>